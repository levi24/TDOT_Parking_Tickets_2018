---
title: "Breakdown of Population Based on Age in Toronto"
author: "Rachit Srivastava"
date: "January 29th, 2021"
output: pdf_document
---
 
```{r clean_data, include=FALSE}
#install.packages("opendatatoronto")
#install.packages("tidyverse") 
#install.packages("dplyr")
#install.packages("janitor")
#install.packages("ggplot2")
library(opendatatoronto)
library(tidyverse)
library(dplyr)
library(janitor)
library(ggplot2)

all_neighbourhood_profiles <-
  opendatatoronto::search_packages("Neighbourhood Profiles") %>% 
  opendatatoronto::list_package_resources() %>%
  filter(name == "neighbourhood-profiles-2016-csv") %>%
  opendatatoronto::get_resource()
  


all_neighbourhood_profiles <-
  janitor::clean_names(all_neighbourhood_profiles)



clean_all_neighbourhood_profiles <-
  all_neighbourhood_profiles %>%
  
  select(category, 
         topic, 
         characteristic, 
         city_of_toronto)



clean_neighbourhood_profiles <- 
  all_neighbourhood_profiles %>%
  
  filter(category == "Population", 
         topic == "Age characteristics"
         ) %>%
  filter(characteristic %in% c("Children (0-14 years)",
                               "Youth (15-24 years)",
                               "Working Age (25-54 years)",
                               "Pre-retirement (55-64 years)",
                               "Seniors (65+ years)",
                               "Older Seniors (85+ years)"
                               )
         ) %>%
  select(category, 
         topic, 
         characteristic, 
         city_of_toronto)

```

## Abstract



## Introduction




## Data

The "Neighbourhood Profiles" dataset was retrieved from opendatatoronto. This dataset entails the census of the population across Toronto and its different neighbourhoods. This census of Toronto's population occurs every 5 years by Statistics Canada, where they collect various data about the population; such as: age, sex, language, households, income, etc. The data was collected for the City of Toronto's 140 neighbourhoods in 2016. The full datatset is collected based on Statistic Canada's random rounding reporting practices where they provide numbers of each data by observing, surveying, and estimating. 

According to Statistics Canada, a sample of approximately 25% of Canadian households receive an online questionnaire and face-to-face discussions. Whereas the rest of the sample receives a short-form questionnaire to purely retrieve the demographic data of the participants (this is 100% of the data). Statistic Canada does a great job in tackling the non-responses from participants, where they conduct a follow-up to complete the questionnaire by phone or either visit door to door.

The table and graph below are based on the 100% of data that got retrieved from the participants - population. 

Below is a full table (Table 1) for the data retrieved from "Neighbourhood Profiles" that has been filtered down to include only statistics about the City of Toronto and its population. The table details the total number of people in each age group that reside in the city of Toronto.

```{r table1, echo=FALSE}
knitr::kable(clean_neighbourhood_profiles, 
             "simple", 
             col.names = c("Population", "Topic", "Age", "Number of People in Toronto"), 
             align = c("l","l","l","r"),
             caption = "Population in Toronto Based on Age",
             )
```

```{r graph1, echo=FALSE}
ggplot(clean_neighbourhood_profiles, aes(x = characteristic, y = city_of_toronto)) + 
  geom_bar(stat = "identity") +
  labs(x = "Age Group",
       y = "Number of People",
       subtitle = "Graph 1: Population in Toronto Based on Age",
       caption = "Source: opendatatoronto") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 90))
```


## References


Dataset: https://open.toronto.ca/dataset/neighbourhood-profiles/
How they find the data: https://www23.statcan.gc.ca/imdb/p2SV.pl?Function=getSurvey&SDDS=3901

